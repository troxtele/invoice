"use strict";(self.webpackChunkinvoice_generator=self.webpackChunkinvoice_generator||[]).push([[835],{9180:function(e,t,n){n.d(t,{Xb:function(){return o.Xb},db:function(){return c},e5:function(){return o.e5},hJ:function(){return o.hJ},rh:function(){return o.rh},v0:function(){return o.v0},x9:function(){return d}});var o=n(4981),r=n(4702),i=n(2481),a=n(276),l=n(2391),s=(0,r.ZF)({apiKey:"AIzaSyA1n1y2n-tshbTus7dE5GDKk2EIo4oBtNg",authDomain:"invoicegeneator.firebaseapp.com",projectId:"invoicegeneator",storageBucket:"invoicegeneator.appspot.com",messagingSenderId:"340327402365",appId:"1:340327402365:web:6af1f7b629cdca10971a14",measurementId:"G-6VK0L3PNQD"}),c=(0,i.ad)(s),u=((0,a.cF)(s),(0,l.IH)(s),(0,o.v0)(s)),d=function(e){(0,o.LS)(u,e).then((function(){console.log("Password reset email sent successfully!")})).catch((function(e){console.error("Error sending password reset email:",e)}))}},8022:function(e,t,n){n.d(t,{Cq:function(){return h},OH:function(){return l},Yu:function(){return d},gi:function(){return c},xz:function(){return v}});var o=n(4165),r=n(5861),i=n(2481),a=n(9180);function l(e,t,n){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)((0,o.Z)().mark((function e(t,n,r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.pl)((0,i.JU)(a.db,t,n),r,{merge:!0});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error("Error adding document: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function c(e,t){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)((0,o.Z)().mark((function e(t,n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.ET)((0,i.hJ)(a.db,t),n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error("Error adding document: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function d(e,t){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)((0,o.Z)().mark((function e(t,n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.QT)((0,i.JU)(a.db,t,n));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error("Error adding document: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function v(e,t){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)((0,o.Z)().mark((function e(t,n){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("THis is the condition",n),e.prev=1,r=null,r=n?(0,i.IO)((0,i.hJ)(a.db,t),n):(0,i.IO)((0,i.hJ)(a.db,t)),e.next=6,(0,i.PL)(r);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(1),console.error("Error adding document: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function h(){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)((0,o.Z)().mark((function e(){var t,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,a.v0)(),n=new a.hJ,(0,a.rh)(t,n).then((function(e){var t=a.hJ.credentialFromResult(e).accessToken;console.log("THis is the token",t);e.user;e.user&&d("Users",e.user.uid).then((function(t){if(t.data()){var n=t.data();console.log("This is the doc",n);var o=n.email;localStorage.setItem("email",o),localStorage.setItem("userName",n.userName),localStorage.setItem("uid",e.user.uid),localStorage.setItem("subscribed",e.user.subscribed),window.location.href="/"}else l("Users",e.user.uid,{id:e.user.uid,email:e.user.email,userName:e.user.displayName}).then((function(){var t=e.user.email;localStorage.setItem("email",t),localStorage.setItem("uid",e.user.uid),localStorage.setItem("userName",e.user.displayName),window.location.href="/"}))}))})).catch((function(e){console.log("THis is the error",e);e.code,e.message,e.customData.email,a.hJ.credentialFromError(e)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},9835:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var o,r,i=n(2982),a=n(4942),l=n(1413),s=n(885),c=n(2791),u=n(6871),d=n(5946),m=["title","titleId"];function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},v.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h(e,t){var n=e.title,i=e.titleId,a=p(e,m);return c.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-file-pdf",viewBox:"0 0 16 16",ref:t,"aria-labelledby":i},a),n?c.createElement("title",{id:i},n):null,o||(o=c.createElement("path",{d:"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"})),r||(r=c.createElement("path",{d:"M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z"})))}var f,x=c.forwardRef(h),b=(n.p,n(672)),g=["title","titleId"];function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},N.apply(this,arguments)}function j(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y(e,t){var n=e.title,o=e.titleId,r=j(e,g);return c.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-three-dots-vertical",viewBox:"0 0 16 16",ref:t,"aria-labelledby":o},r),n?c.createElement("title",{id:o},n):null,f||(f=c.createElement("path",{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"})))}var w,D=c.forwardRef(y),I=(n.p,["title","titleId"]);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},S.apply(this,arguments)}function C(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k(e,t){var n=e.title,o=e.titleId,r=C(e,I);return c.createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-x-lg",viewBox:"0 0 16 16",ref:t,"aria-labelledby":o},r),n?c.createElement("title",{id:o},n):null,w||(w=c.createElement("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"})))}var O=c.forwardRef(k),Z=(n.p,n(960)),F=n(6435),T=n.n(F),P=n(5834),E=n(8022),q=n(2481),A=n(184);T().vfs=P.I.vfs;var R=function(){var e,t,n,o,r,m,v,p,h,f,g,N=(0,u.TH)(),j=function(){return Math.random().toString(36).substring(2)+Date.now().toString(36)},y=function(e,t){return Math.floor(Math.random()*(t-e)+e)},w=(0,c.useState)(localStorage.getItem("defaultSettings")?JSON.parse(localStorage.getItem("defaultSettings")):{imgSrc:"",defaultCurrency:"USD",taxation:"GST",taxationPer:0,discounts:0,shipping:0,invoiceNo:"Invoice No:",invoiceFrom:"",terms:"",footNote:"",defaultTemplate:"temp1"}),I=(0,s.Z)(w,1)[0],S={title:"",quantity:1,rate:1,taxationPer:null!==(e=null===I||void 0===I?void 0:I.taxationPer)&&void 0!==e?e:0,amount:0},C=(0,c.useState)(localStorage.getItem("invoices")?JSON.parse(localStorage.getItem("invoices")):[]),k=(0,s.Z)(C,2),F=k[0],T=k[1],P=(0,c.useState)([]),R=(0,s.Z)(P,2),J=R[0],z=R[1],L=(0,c.useState)({imgSrc:null!==(t=null===I||void 0===I?void 0:I.imgSrc)&&void 0!==t?t:"",uuid:j(),title:null!==(n=null===I||void 0===I?void 0:I.invoiceNo)&&void 0!==n?n:"Invoice No:",invoiceNo:y(1,999999),invoiceDate:(new Date).toLocaleDateString("en-CA"),dueDate:!0===(null===I||void 0===I?void 0:I.autoDueDate)&&(null===I||void 0===I?void 0:I.autoDueDays)>0?new Date((new Date).setDate((new Date).getDate()+(null===I||void 0===I?void 0:I.autoDueDays))).toLocaleDateString("en-CA"):"",invoiceFrom:null!==(o=null===I||void 0===I?void 0:I.invoiceFrom)&&void 0!==o?o:"",invoiceTo:"",items:[S],discounts:null!==(r=null===I||void 0===I?void 0:I.discounts)&&void 0!==r?r:0,shipping:null!==(m=null===I||void 0===I?void 0:I.shipping)&&void 0!==m?m:0,terms:null!==(v=null===I||void 0===I?void 0:I.terms)&&void 0!==v?v:"",footNote:null!==(p=null===I||void 0===I?void 0:I.footNote)&&void 0!==p?p:"",currency:null!==(h=null===I||void 0===I?void 0:I.defaultCurrency)&&void 0!==h?h:"USD",taxation:null!==(f=null===I||void 0===I?void 0:I.taxation)&&void 0!==f?f:"GST"}),U=(0,s.Z)(L,2),M=U[0],B=U[1],H=function(e){return e.reduce((function(e,t){return Number(e)+Number(t.amount)}),0).toFixed(2)},Q=function(e){var t=e.quantity,n=e.rate,o=e.taxationPer,r=t*n,i=r*(null!==o&&void 0!==o?o:0),a=(Number(r)+Number(i)).toFixed(2);return e.amount=a,a},G=function(e){B((function(t){return(0,l.Z)((0,l.Z)({},t),{},(0,a.Z)({},e.target.name,e.target.value))}))},K=function(e){return function(t){var n=t.target.name,o=t.target.value;B((function(t){return(0,l.Z)((0,l.Z)({},t),{},{items:t.items.map((function(t,r){return e===r?(0,l.Z)((0,l.Z)({},t),{},(0,a.Z)({},n,o)):(0,l.Z)({},t)}))})}))}},V=function(){return B((function(e){return(0,l.Z)((0,l.Z)({},e),{},{items:[].concat((0,i.Z)(e.items),[S])})}))},W=function(e){return function(){B((function(t){return(0,l.Z)((0,l.Z)({},t),{},{items:t.items.filter((function(t,n){return e!==n}))})}))}},X=function(e){Z.Z.downloadInvoice(e)},Y=function(e){Z.Z.openInvoice(e)},_=function(e){Z.Z.printInvoice(e)};(0,c.useEffect)((function(){localStorage.getItem("uid")?(0,E.xz)("invoices",(0,q.ar)("userId","==",localStorage.getItem("uid"))).then((function(e){var t=[];e.forEach((function(e){var n=e.data();n.id=e.id,t.push(n)})),console.log("Thes are all invoices",t),z(t)})):window.location.href="/login"})),(0,c.useEffect)((function(){var e;null!==N&&void 0!==N&&null!==(e=N.state)&&void 0!==e&&e.uuid&&B(F.find((function(e,t){var n;return e.uuid===(null===N||void 0===N||null===(n=N.state)||void 0===n?void 0:n.uuid)})))}),[null===N||void 0===N||null===(g=N.state)||void 0===g?void 0:g.uuid,F]),(0,c.useEffect)((function(){localStorage.setItem("invoices",JSON.stringify(F))}),[F]);var $=M.imgSrc,ee=M.uuid,te=M.title,ne=M.invoiceNo,oe=M.invoiceDate,re=M.dueDate,ie=M.invoiceFrom,ae=M.invoiceTo,le=M.items,se=M.discounts,ce=M.shipping,ue=M.terms,de=M.footNote,me=M.currency,ve=M.taxation;return(0,A.jsx)("div",{style:{backgroundColor:"#eee"},children:(0,A.jsxs)("div",{className:"row mt-3",children:[(0,A.jsx)("div",{className:"col-lg-10",children:(0,A.jsxs)("div",{className:"papers mb-3",children:[(0,A.jsxs)("div",{className:"row",children:[(0,A.jsx)("div",{className:"col-md-6",children:(0,A.jsx)("div",{className:"row",children:(0,A.jsxs)("div",{className:"col-md-6",children:[""!==$&&(0,A.jsxs)("div",{className:"position-relative",children:[(0,A.jsx)("img",{src:$,className:"mr-3 rounded preview-image",alt:""}),(0,A.jsx)("button",{type:"button",title:"Remove logo",onClick:function(){B((function(e){return(0,l.Z)((0,l.Z)({},e),{},{imgSrc:""})}))},className:"btn btn-dark btn-sm preview-image-remove",children:"\xd7"})]}),""===$&&(0,A.jsx)("div",{className:"files color",children:(0,A.jsx)("input",{type:"file",className:"form-control form-control-sm",accept:"image/x-png,image/jpg,image/jpeg",id:"customFile",onChange:function(e){e.stopPropagation(),e.preventDefault();var t,n=e.target.files,o=n.length;if(o>0)for(t=0;t<o;t+=1){var r=n[t],i=new FileReader;i.onload=function(e){B((function(t){return(0,l.Z)((0,l.Z)({},t),{},{imgSrc:e.target.result})}))},i.readAsDataURL(r)}return!1}})})]})})}),(0,A.jsxs)("div",{className:"col-md-6",children:[(0,A.jsx)("div",{className:"row",children:(0,A.jsx)("div",{className:"col-md-12",children:(0,A.jsxs)("div",{className:"input-group",children:[(0,A.jsx)("input",{type:"text",name:"title",maxLength:"20",placeholder:"Invoice",className:"form-control",value:te,onChange:G}),(0,A.jsx)("div",{className:"input-group-text",children:"#"}),(0,A.jsx)("input",{type:"number",min:"1",className:"form-control",name:"invoiceNo",value:ne,onChange:G})]})})}),(0,A.jsx)("div",{className:"row",children:(0,A.jsx)("div",{className:"col-md-12 mt-2",children:(0,A.jsxs)("div",{className:"input-group input-group-sm",children:[(0,A.jsx)("div",{className:"input-group-text",children:"Invoice Date:"}),(0,A.jsx)("input",{type:"date",className:"form-control",name:"invoiceDate",value:oe,onChange:function(e){return G(e)}}),(0,A.jsx)("div",{className:"input-group-text",children:"Due Date:"}),(0,A.jsx)("input",{type:"date",className:"form-control",name:"dueDate",value:re,onChange:function(e){return G(e)}})]})})})]})]}),(0,A.jsxs)("div",{className:"row mt-3 mb-3",children:[(0,A.jsx)("div",{className:"col-md-6",children:(0,A.jsxs)("div",{className:"form-group",children:[(0,A.jsx)("label",{htmlFor:"invoiceFrom",children:"Invoice from"}),(0,A.jsx)("textarea",{className:"form-control",id:"invoiceFrom",name:"invoiceFrom",rows:"3",required:!0,placeholder:"Who is this invoice from? (required)",value:ie,onChange:function(e){return G(e)}})]})}),(0,A.jsx)("div",{className:"col-md-6",children:(0,A.jsxs)("div",{className:"form-group",children:[(0,A.jsx)("label",{htmlFor:"invoiceTo",children:"Invoice to"}),(0,A.jsx)("textarea",{className:"form-control",id:"invoiceTo",name:"invoiceTo",rows:"3",required:!0,placeholder:"Who is this invoice to? (required)",value:ae,onChange:function(e){return G(e)}})]})})]}),(0,A.jsx)("div",{className:"row",children:(0,A.jsxs)("div",{className:"col-md-12",children:[(0,A.jsxs)("div",{className:"d-sm-block d-md-block d-lg-none d-xl-none d-xxl-none",children:[le.map((function(e,t){var n;return(0,A.jsx)("div",{className:"card mb-3",children:(0,A.jsxs)("div",{className:"card-body",children:[(0,A.jsxs)("div",{className:"card-title fw-bold",children:["Item #",t+1,(0,A.jsx)("button",{type:"button",title:"Remove",onClick:W(t),className:"btn btn-danger btn-sm float-end",children:(0,A.jsx)(O,{})})]}),(0,A.jsxs)("div",{className:"row",children:[(0,A.jsx)("div",{className:"col-12",children:(0,A.jsxs)("div",{className:"form-floating mb-3",children:[(0,A.jsx)("input",{type:"text",className:"form-control form-control-sm",placeholder:"Description of service or product...",name:"title",value:e.title,onChange:K(t),id:"floatingInputDesc".concat(t)}),(0,A.jsx)("label",{htmlFor:"floatingInputDesc".concat(t),children:"Description of service or product..."})]})}),(0,A.jsx)("div",{className:"col-6",children:(0,A.jsxs)("div",{className:"form-floating mb-3",children:[(0,A.jsx)("input",{type:"number",min:"0",className:"form-control form-control-sm",placeholder:"Quantity",name:"quantity",value:e.quantity,onChange:K(t),id:"floatingInputQty".concat(t)}),(0,A.jsx)("label",{htmlFor:"floatingInputQty".concat(t),children:"Quantity"})]})}),(0,A.jsx)("div",{className:"col-6",children:(0,A.jsxs)("div",{className:"form-floating mb-3",children:[(0,A.jsx)("input",{type:"number",min:"0",className:"form-control form-control-sm",placeholder:"Rate",name:"rate",value:e.rate,onChange:K(t),id:"floatingInputRat".concat(t)}),(0,A.jsxs)("label",{htmlFor:"floatingInputRat".concat(t),children:["Rate (",me||"USD",")"]})]})}),(0,A.jsx)("div",{className:"col-6",children:(0,A.jsxs)("div",{className:"input-group input-group-sm",children:[(0,A.jsxs)("div",{className:"form-floating",children:[(0,A.jsx)("input",{type:"number",min:"0",className:"form-control",name:"taxationPer",value:null!==(n=e.taxationPer)&&void 0!==n?n:0,onChange:K(t),id:"floatingInputPer".concat(t)}),(0,A.jsx)("label",{htmlFor:"floatingInputPer".concat(t),children:ve||"GST"})]}),(0,A.jsx)("div",{className:"input-group-text pe-1 ps-1",children:"%"})]})}),(0,A.jsx)("div",{className:"col-6",children:(0,A.jsxs)("div",{className:"form-floating",children:[(0,A.jsx)("input",{type:"text",className:"form-control",disabled:!0,readOnly:!0,id:"floatingInputAmo".concat(t),value:Q(e)}),(0,A.jsxs)("label",{htmlFor:"floatingInputAmo".concat(t),children:["Amount (",me||"USD",")"]})]})})]})]})},t)})),(0,A.jsx)("button",{type:"button",className:"btn btn-primary btn-sm mb-3",onClick:function(e){return V()},children:"+ Add Item"})]}),(0,A.jsx)("div",{className:"table-responsive d-none d-sm-none d-md-none d-lg-block d-xl-block d-xxl-block",children:(0,A.jsxs)("table",{className:"table table-striped table-hover table-sm",children:[(0,A.jsx)("caption",{children:(0,A.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(e){return V()},children:"+ Add Item"})}),(0,A.jsx)("thead",{children:(0,A.jsxs)("tr",{className:"d-flex",children:[(0,A.jsx)("th",{className:"col-md-1",scope:"col",children:"#"}),(0,A.jsx)("th",{className:"col-md-4",scope:"col",children:"Item"}),(0,A.jsx)("th",{className:"col-md-2",scope:"col",children:"Quantity"}),(0,A.jsxs)("th",{className:"col-md-2",scope:"col",children:["Rate (",me||"USD",")"]}),(0,A.jsx)("th",{className:"col-md-1",scope:"col",children:ve||"GST"}),(0,A.jsxs)("th",{className:"col-md-2",scope:"col",children:["Amount (",me||"USD",")"]})]})}),(0,A.jsx)("tbody",{children:le.map((function(e,t){var n;return(0,A.jsxs)("tr",{className:"d-flex",children:[(0,A.jsxs)("th",{className:"col-md-1",scope:"row",children:[t+1,(0,A.jsx)("button",{type:"button",title:"Remove",onClick:W(t),className:"btn btn-danger btn-sm float-end",children:(0,A.jsx)(O,{})})]}),(0,A.jsx)("td",{className:"col-md-4",children:(0,A.jsx)("input",{type:"text",className:"form-control form-control-sm",placeholder:"Description of service or product...",name:"title",value:e.title,onChange:K(t)})}),(0,A.jsx)("td",{className:"col-md-2",children:(0,A.jsx)("input",{type:"number",min:"0",className:"form-control form-control-sm",placeholder:"Quantity",name:"quantity",value:e.quantity,onChange:K(t)})}),(0,A.jsx)("td",{className:"col-md-2",children:(0,A.jsx)("input",{type:"number",min:"0",className:"form-control form-control-sm",placeholder:"Rate",name:"rate",value:e.rate,onChange:K(t)})}),(0,A.jsx)("td",{className:"col-md-1",children:(0,A.jsxs)("div",{className:"input-group input-group-sm",children:[(0,A.jsx)("input",{type:"number",min:"0",className:"form-control",name:"taxationPer",value:null!==(n=e.taxationPer)&&void 0!==n?n:0,onChange:K(t)}),(0,A.jsx)("div",{className:"input-group-text pe-1 ps-1",children:"%"})]})}),(0,A.jsx)("td",{className:"col-md-2",children:Q(e)})]},t)}))})]})})]})}),(0,A.jsxs)("div",{className:"row g-3",children:[(0,A.jsxs)("div",{className:"col-lg-7 d-none d-sm-none d-md-none d-lg-block d-xl-block d-xxl-block",children:[(0,A.jsxs)("div",{className:"form-group mb-3",children:[(0,A.jsx)("label",{htmlFor:"terms",children:"Terms & Conditions"}),(0,A.jsx)("textarea",{className:"form-control",id:"terms",name:"terms",rows:"2",required:!0,placeholder:"Terms and conditions - late fees, payment methods, delivery schedule",value:ue,onChange:function(e){return G(e)}})]}),(0,A.jsxs)("div",{className:"form-group",children:[(0,A.jsx)("label",{htmlFor:"footNote",children:"Foot Note"}),(0,A.jsx)("textarea",{className:"form-control",id:"footNote",name:"footNote",rows:"2",required:!0,placeholder:"Thank you for your business",value:de,onChange:function(e){return G(e)}})]})]}),(0,A.jsxs)("div",{className:"col-lg-5",children:[(0,A.jsxs)("div",{className:"row mb-2",children:[(0,A.jsx)("label",{className:"col-sm-3 col-form-label fw-semibold",children:"Subtotal"}),(0,A.jsx)("div",{className:"col-sm-9",children:(0,A.jsx)("input",{type:"text",className:"form-control",disabled:!0,readOnly:!0,value:H(le)})})]}),(0,A.jsxs)("div",{className:"row mb-2",children:[(0,A.jsx)("label",{htmlFor:"discounts",className:"col-sm-3 col-form-label",children:"Discounts"}),(0,A.jsx)("div",{className:"col-sm-9",children:(0,A.jsx)("input",{type:"number",id:"discounts",min:"0",className:"form-control",name:"discounts",value:se||0,onChange:function(e){return G(e)}})})]}),(0,A.jsxs)("div",{className:"row mb-2",children:[(0,A.jsx)("label",{htmlFor:"shipping",className:"col-sm-3 col-form-label",children:"Shipping"}),(0,A.jsx)("div",{className:"col-sm-9",children:(0,A.jsx)("input",{type:"number",id:"shipping",min:"0",className:"form-control",name:"shipping",value:ce||0,onChange:function(e){return G(e)}})})]}),(0,A.jsxs)("div",{className:"row mb-2",children:[(0,A.jsxs)("label",{className:"col-sm-3 col-form-label fw-bold",children:["Total (",M.currency||"USD",")"]}),(0,A.jsx)("div",{className:"col-sm-9",children:(0,A.jsx)("input",{type:"text",className:"form-control",disabled:!0,readOnly:!0,value:function(e,t,n){return(H(e)-Number(t||0)+Number(n||0)).toFixed(2)}(le,se,ce)})})]})]}),(0,A.jsxs)("div",{className:"col-lg-7 d-sm-block d-md-block d-lg-none d-xl-none d-xxl-none",children:[(0,A.jsxs)("div",{className:"form-group mb-3",children:[(0,A.jsx)("label",{htmlFor:"terms",children:"Terms & Conditions"}),(0,A.jsx)("textarea",{className:"form-control",id:"terms",name:"terms",rows:"2",required:!0,placeholder:"Terms and conditions - late fees, payment methods, delivery schedule",value:ue,onChange:function(e){return G(e)}})]}),(0,A.jsxs)("div",{className:"form-group",children:[(0,A.jsx)("label",{htmlFor:"footNote",children:"Foot Note"}),(0,A.jsx)("textarea",{className:"form-control",id:"footNote",name:"footNote",rows:"2",required:!0,placeholder:"Thank you for your business",value:de,onChange:function(e){return G(e)}})]})]})]})]})}),(0,A.jsxs)("div",{className:"col-lg-2",children:[(0,A.jsx)("div",{className:"d-grid gap-2 mb-2",children:!J||0!==J.length&&!1!==!JSON.parse(localStorage.getItem("subscribe"))?(0,A.jsx)("button",{type:"button",className:"btn btn-primary btn-block",onClick:function(){localStorage.setItem("subscription",!0);var e="true"===localStorage.getItem("subscription");J&&J.length;window.location.href="https://buy.stripe.com/bIYfZe9l24tw0i4144"},children:"Subscribe"}):(0,A.jsx)("button",{type:"button",className:"btn btn-primary btn-block",onClick:function(){var e=M.uuid;console.log("This is the invocie",M);var t=F.find((function(t,n){return t.uuid===e}));T(t?F.map((function(t){return t.uuid===e?(0,l.Z)((0,l.Z)({},t),{},{imgSrc:M.imgSrc,title:M.title,invoiceNo:M.invoiceNo,invoiceDate:M.invoiceDate,dueDate:M.dueDate,invoiceFrom:M.invoiceFrom,invoiceTo:M.invoiceTo,items:M.items,discounts:M.discounts,shipping:M.shipping,terms:M.terms,footNote:M.footNote,currency:M.currency,taxation:M.taxation}):(0,l.Z)({},t)})):function(e){return[M].concat((0,i.Z)(e))}),function(e){e.userId=localStorage.getItem("uid"),(0,E.gi)("invoices",e).then((function(e){window.location.reload()}))}(M)},children:"Save Invoice"})}),(0,A.jsx)("div",{className:"d-grid gap-2 mb-2",children:(0,A.jsxs)("div",{className:"btn-group btn-block mb-3",role:"group","aria-label":"Basic example",children:[(0,A.jsx)("button",{type:"button",className:"btn btn-outline-primary",title:"Download",onClick:function(){return X(M)},children:(0,A.jsx)(d.r,{})}),(0,A.jsx)("button",{type:"button",className:"btn btn-outline-primary",title:"Open PDF File",onClick:function(){return Y(M)},children:(0,A.jsx)(x,{})}),(0,A.jsx)("button",{type:"button",className:"btn btn-outline-primary",title:"Print",onClick:function(){return _(M)},children:(0,A.jsx)(b.r,{})})]})}),(0,A.jsxs)("div",{className:"mb-3",children:[(0,A.jsxs)("h6",{children:["My Invoice"," ",(0,A.jsx)("span",{className:"badge bg-primary text-white",children:F.length}),(0,A.jsx)("button",{type:"button",title:"New Invoice",onClick:function(){B((function(e){var t,n,o,r,i,a,s,c,u;return(0,l.Z)((0,l.Z)({},e),{},{imgSrc:null!==(t=null===I||void 0===I?void 0:I.imgSrc)&&void 0!==t?t:"",uuid:j(),title:null!==(n=null===I||void 0===I?void 0:I.invoiceNo)&&void 0!==n?n:"Invoice No:",invoiceNo:y(1,999999),invoiceDate:(new Date).toLocaleDateString("en-CA"),dueDate:!0===(null===I||void 0===I?void 0:I.autoDueDate)&&(null===I||void 0===I?void 0:I.autoDueDays)>0?new Date((new Date).setDate((new Date).getDate()+(null===I||void 0===I?void 0:I.autoDueDays))).toLocaleDateString("en-CA"):"",invoiceFrom:null!==(o=null===I||void 0===I?void 0:I.invoiceFrom)&&void 0!==o?o:"",invoiceTo:"",items:[S],discounts:null!==(r=null===I||void 0===I?void 0:I.discounts)&&void 0!==r?r:0,shipping:null!==(i=null===I||void 0===I?void 0:I.shipping)&&void 0!==i?i:0,terms:null!==(a=null===I||void 0===I?void 0:I.terms)&&void 0!==a?a:"",footNote:null!==(s=null===I||void 0===I?void 0:I.footNote)&&void 0!==s?s:"",currency:null!==(c=null===I||void 0===I?void 0:I.defaultCurrency)&&void 0!==c?c:"",taxation:null!==(u=null===I||void 0===I?void 0:I.taxation)&&void 0!==u?u:"GST"})}))},className:"btn btn-outline-primary btn-sm float-end pe-1 ps-1 p-0",children:"New"})]}),(0,A.jsx)("hr",{}),(0,A.jsx)("div",{children:(0,A.jsx)("div",{className:"list-group",children:F.slice(0,10).map((function(e,t){return(0,A.jsxs)("a",{href:"#!",className:"list-group-item list-group-item-action ".concat(e.uuid===ee?"active":""),onClick:function(t){return function(e,t){e.stopPropagation(),e.preventDefault();var n=e.target;return"A"===(null===n||void 0===n?void 0:n.tagName)&&B(F.find((function(e,n){return e.uuid===t}))),!0}(t,e.uuid)},children:[e.invoiceNo," ",(0,A.jsxs)("div",{className:"dropdown float-end",children:[(0,A.jsx)("button",{className:"btn btn-sm ".concat(e.uuid===ee?"btn-outline-light":"btn-secondary"),type:"button",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:(0,A.jsx)(D,{})}),(0,A.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"dropdownMenuButton",children:[(0,A.jsx)("button",{type:"button",title:"Download Invoice",onClick:function(){return X(e)},className:"dropdown-item",children:"Download"}),(0,A.jsx)("button",{type:"button",title:"Open PDF Invoice",onClick:function(){return Y(e)},className:"dropdown-item",children:"Open PDF"}),(0,A.jsx)("button",{type:"button",title:"Print Invoice",onClick:function(){return _(e)},className:"dropdown-item",children:"Print"}),(0,A.jsx)("div",{className:"dropdown-divider"}),(0,A.jsx)("button",{type:"button",title:"Delete Invoice",onClick:function(){return e=t,void(window.confirm("Are you sure you wish to delete this invoice?")&&T((function(t){return t.filter((function(t,n){return e!==n}))})));var e},className:"dropdown-item bg-danger text-light",children:"Delete"})]})]})]},e.uuid+t)}))})})]})]})]})})}}}]);
//# sourceMappingURL=835.2b7a17a7.chunk.js.map